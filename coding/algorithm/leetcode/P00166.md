# åˆ†æ•°åˆ°å°æ•°

## â“é¢˜ç›®æè¿°
ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ†æ•°çš„åˆ†å­Â numerator å’Œåˆ†æ¯ denominatorï¼Œä»¥ å­—ç¬¦ä¸²å½¢å¼è¿”å›å°æ•° ã€‚

å¦‚æœå°æ•°éƒ¨åˆ†ä¸ºå¾ªç¯å°æ•°ï¼Œåˆ™å°†å¾ªç¯çš„éƒ¨åˆ†æ‹¬åœ¨æ‹¬å·å†…ã€‚

å¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œåªéœ€è¿”å› ä»»æ„ä¸€ä¸ª ã€‚

å¯¹äºæ‰€æœ‰ç»™å®šçš„è¾“å…¥ï¼Œä¿è¯ ç­”æ¡ˆå­—ç¬¦ä¸²çš„é•¿åº¦å°äº 104 

## ğŸ·ï¸ç¤ºä¾‹
<!-- tabs:start -->
#### **ç¤ºä¾‹1**
```
è¾“å…¥ï¼šnumerator = 1, denominator = 2
è¾“å‡ºï¼š"0.5"
```
#### **ç¤ºä¾‹2**
```
è¾“å…¥ï¼šnumerator = 2, denominator = 1
è¾“å‡ºï¼š"2"
```
#### **ç¤ºä¾‹3**
```
è¾“å…¥ï¼šnumerator = 4, denominator = 333
è¾“å‡ºï¼š"0.(012)"
```
<!-- tabs:end -->
```
-231 <= numerator, denominator <= 231 - 1
denominator != 0
```
## ğŸ‘€è§£ç­”

<!-- tabs:start -->

#### **Answer**
```java
public class Solution {
    private static final int MAX_LENGTH = 10 << 10;
    public String fractionToDecimal(int numeratorInt, int denominatorInt) {
        if ( numeratorInt==0 ) { return "0"; }
        long numerator = numeratorInt;
        long denominator = denominatorInt;
        boolean negative = numerator > 0 ^ denominator > 0;
        String res = negative ? "-" : "";
        numerator = numerator >= 0 ? numerator : -numerator;
        denominator = denominator >= 0 ? denominator :-denominator;
        long remainder = numerator % denominator;
        long integer = numerator / denominator;
        if (remainder == 0) {
            res +=  String.valueOf(integer);
        } else {
            res += String.valueOf(integer) + "." + dealDecimal(remainder, denominator);
        }
        return res;
    }

    private String dealDecimal(long remainder, long denominator) {
        Map<Long, Integer> record = new HashMap<>();
        StringBuffer stringBuffer = new StringBuffer();
        int i = 0;
        while(i < MAX_LENGTH) {
            if (record.containsKey(remainder)) {
                int loopStart = record.get(remainder);
                return stringBuffer.substring(0, loopStart) + "(" + stringBuffer.substring(loopStart) + ")";
            } else {
                record.put(remainder, i);
            }
            remainder *= 10;
            stringBuffer.append(remainder / denominator);
            remainder %= denominator;
            if (remainder == 0) {
                return stringBuffer.toString();
            }
            i++;
        }
        return "ERROR: length > " + MAX_LENGTH;
    }
}

```
<!-- tabs:end -->
