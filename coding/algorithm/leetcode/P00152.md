# ä¹˜ç§¯æœ€å¤§å­æ•°ç»„

## â“é¢˜ç›®æè¿°
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsÂ ï¼Œè¯·ä½ æ‰¾å‡ºæ•°ç»„ä¸­ä¹˜ç§¯æœ€å¤§çš„éç©ºè¿ç»­å­æ•°ç»„ï¼ˆè¯¥å­æ•°ç»„ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—ï¼‰ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„æ‰€å¯¹åº”çš„ä¹˜ç§¯ã€‚

æµ‹è¯•ç”¨ä¾‹çš„ç­”æ¡ˆæ˜¯ä¸€ä¸ªÂ 32-ä½ æ•´æ•°ã€‚

å­æ•°ç»„ æ˜¯æ•°ç»„çš„è¿ç»­å­åºåˆ—ã€‚

## ğŸ·ï¸ç¤ºä¾‹
<!-- tabs:start -->
#### **ç¤ºä¾‹1**
```
è¾“å…¥: nums = [2,3,-2,4]
è¾“å‡º: 6
è§£é‡Š: å­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6ã€‚
```
#### **ç¤ºä¾‹2**
```
è¾“å…¥: nums = [-2,0,-1]
è¾“å‡º: 0
è§£é‡Š: ç»“æœä¸èƒ½ä¸º 2, å› ä¸º [-2,-1] ä¸æ˜¯å­æ•°ç»„ã€‚
```
<!-- tabs:end -->
```
1 <= nums.length <= 2 * 104
-10 <= nums[i] <= 10
nums çš„ä»»ä½•å‰ç¼€æˆ–åç¼€çš„ä¹˜ç§¯éƒ½ ä¿è¯Â æ˜¯ä¸€ä¸ª 32-ä½ æ•´æ•°
```
## ğŸ‘€è§£ç­”

<!-- tabs:start -->

#### **æš´åŠ›è§£æ³•**
```java
public class Solution {
    public int maxProduct(int[] nums) {
        int n = nums.length;

        int product;
        int max = nums[0];
        /** [i,j] */
        for (int i = 0; i < n; i++) {
            product = 1;
            for (int j = i; j < n; j++) {
                product = product * nums[j];
                if (product > max) {
                    max = product;
                }
            }
        }
        return max;
    }
}

```
#### **åŠ¨æ€è§„åˆ’**
```java
/**
 * åŠ¨æ€è§„åˆ’
 * ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜æœ€å¤§å€¼ï¼Œä¸€ä¸ªæ•°ç»„ä¿å­˜æœ€å°å€¼
 * @author pengpeng
 */
public class Solution {
    public int maxProduct(int[] nums) {
        int n = nums.length;
        int[] maxF = new int[n];
        int[] minF = new int[n];
        System.arraycopy(nums, 0, maxF, 0, n);
        System.arraycopy(nums, 0, minF, 0, n);
        for (int i=1;i<n;i++) {
            maxF[i] = Math.max(
                    maxF[i-1] * nums[i],
                    Math.max(nums[i], nums[i] * minF[i-1])
            );
            minF[i] = Math.min(
                    minF[i-1] * nums[i],
                    Math.min(nums[i], nums[i] * maxF[i-1])
            );
        }
        int max = maxF[0];
        for (int i = 1; i < n; i++) {
            max = Math.max(max, maxF[i]);
        }
        return max;
    }
}
```
#### **ä¼˜åŒ–ç©ºé—´**
```java
/**
 * åŠ¨æ€è§„åˆ’
 * ç”±äºç¬¬ i ä¸ªçŠ¶æ€åªå’Œç¬¬ iâˆ’1 ä¸ªçŠ¶æ€ç›¸å…³ï¼Œæ ¹æ®ã€Œæ»šåŠ¨æ•°ç»„ã€æ€æƒ³ï¼Œåªç”¨ä¸¤ä¸ªå˜é‡æ¥ç»´æŠ¤iâˆ’1 æ—¶åˆ»çš„çŠ¶æ€
 * @author pengpeng
 */
public class Solution {
    public int maxProduct(int[] nums) {
        int n = nums.length;
        int ans = nums[0], maxF = nums[0], minF = nums[0];
        for (int i=1;i<n;i++) {
            int mx = maxF;
            maxF = Math.max(
                    maxF * nums[i],
                    Math.max(nums[i], nums[i] * minF)
            );
            minF = Math.min(
                    minF * nums[i],
                    Math.min(nums[i], nums[i] *mx)
            );
            ans = Math.max(maxF, ans);
        }
        return ans;
    }
}

```
<!-- tabs:end -->
